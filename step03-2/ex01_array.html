<!DOCTYPE html>
<html lang="ko">
<head>
    <style>
        body{height: 100%;background-color: black;color:white;}
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }
        td, th {                        
            width: 10%;
            border: 1px solid #339440;
            text-align: left;
            padding: 8px;
        }
        #onoff{
            float:right;
            margin-bottom:10px;
        }
    </style>
</head>

<body>
    <script>
        let panel = new Array(10); // 
        //console.log(panel.length);
        for (let idx = 0; idx < panel.length; idx++) {
            panel[idx] = new Array(10);
        }
        // console.log(panel[0] === panel[1]);
        for (let cnt = 1; cnt <= 20; cnt++) {
            let row = Math.floor(Math.random() * 10);
            let col = Math.floor(Math.random() * 10);
            // console.log(row, typeof row, col, typeof col);
            panel[row][col] = 7;
        }
        document.write(`<input type="button" value="Dark Mode On" id="onoff" onclick="onoff();">`);
        document.write("<table>");
        for (let ty = 0; ty < 10; ty++) {
            document.write("<tr/>");
            for (let tx = 0; tx < 10; tx++) {
                document.write(`<td onclick="check(${ty}, ${tx});">${panel[ty][tx] ?? "-"}</td>`);
            }
            document.write("</tr>");
        }
        document.write("<table>");
       
        function onoff(){            
            currentvalue = document.getElementById('onoff').value;
            if(currentvalue == "Off"){
                document.getElementById("onoff").value="Dark Mode On";
                document.body.style.backgroundColor= "black";
                document.body.style.color= "white";                
            }else{
                document.getElementById("onoff").value="Dark Mode Off";
                document.body.style.backgroundColor= "white";
                document.body.style.color= "black";                
            }
        }
        function reverse(ty,tx) {
            alert("Reverse!");
            if(panel[row][col] = 7){
                panel[row][col] = "-";
            } else {
                panel[row][col] = 7;
            }
        }
        
        function check(ty, tx) {
            alert(ty + "," + tx);
            console.log(`현재 좌표: (${tx},${ty})`);
            //=================================
            //위
            console.log("위 체크")
            for (let step =1; ty-step >= 0; step++) {                
                if(panel[ty-step][tx] == 7) {
                    console.log(`(${tx},${ty-step})`);
                }
            }
            //아래
            console.log("아래 체크")
            for (let step =1; ty+step <9; step++) {                
                if(panel[ty+step][tx] == 7) {
                    console.log(`(${tx},${ty+step})`);
                }
            }
            //좌측
            console.log("좌측 체크")
            for (let step =1; tx-step >= 0; step++) {                
                if(panel[ty][tx-step] == 7) {
                    console.log(`(${tx-step},${ty})`);
                }
            }
            //우측
            console.log("우측 체크")
            for (let step =1; tx+step <9; step++) {                
                if(panel[ty][tx+step] == 7) {
                    console.log(`(${tx+step},${ty})`);
                }
            }
            /*
            //십자 체크
            for (let ry = 0; ry < 10; ry++) {
                for (let rx = 0; rx < 10; rx++) {
                    if (Math.abs(rx - tx) === Math.abs(ry - ty)) {
                        if (panel[ry][rx] === 7) {
                            console.log(`(${rx},${ry})`);
                        } 
                    }
                }
            }
            
            // 대각선 우측 위
            console.log("대각선 우측 위 체크")
            for (let step =1; ; step++) {   
                if( ty-step <0 || tx + step > 9) {
                    break;
                }
                if(panel[ty-step][tx+step] == 7) {
                    console.log(`(${tx+step},${ty-step})`);
                }
            }
            // 대각선 우측 아래
            console.log("대각선 우측 아래 체크")
            for (let step =1; ; step++) {   
                if( ty+step <9 || tx + step > 9) {
                    break;
                }
                if(panel[ty+step][tx+step] == 7) {
                    console.log(`(${tx+step},${ty-step})`);
                }
            }
            // 대각선 좌측 위
            console.log("대각선 좌측 위 체크")
            for (let step =1; ; step++) {   
                if( ty-step <0 || tx - step < 0) {
                    break;
                }
                if(panel[ty-step][tx+step] == 7) {
                    console.log(`(${tx+step},${ty-step})`);
                }
            }
            // 대각선 좌측 아래
            console.log("대각선 좌측 아래 체크")
            for (let step =1; ; step++) {   
                if( ty+step > 9 || tx - step < 0 ) {
                    break;
                }
                if(panel[ty-step][tx+step] == 7) {
                    console.log(`(${tx+step},${ty-step})`);
                }
            }
            */

            //킹각선
            console.log("대각선 체크")
            for (let ry = 0; ry < 10; ry++) {
                for (let rx = 0; rx < 10; rx++) {
                    if (Math.abs(rx - tx) === Math.abs(ry - ty)) {
                        if (panel[ry][rx] === 7) {
                            
                            console.log(`(${rx},${ry})`);
                            break;
                        } 
                    }
                }
            }
            //=================================
        }
    </script>
</body>

</html>