<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>event</title>
</head>
<body>
    <ul id="list">
        <li id="one">감혜빈</li>
        <li>공병구</li>
        <li>정상춘</li>
    </ul>
    <p>
        브라우저는 어떤 특정요소에 이벤트가 발생했을때 그걸 전달하기 위해서
        DOM을 타고 차례대로 내려가면서 탐색을 하게 됨<b>(캡쳐링)</b>,
        목적지에 이벤트를 전달하고 나면 이벤트를 회수를 함<strong>(버블링)</strong>
    </p>
    <script>
        // 상위 객체에 이벤트 처리를 위임하면 버블링 단계에서 작동을 함
        document.querySelector("#list").addEventListener("click",function(evt){
            console.log("#list에 등록된 핸들러 작동.")
            //console.log(evt.bubbles);   // 버블링 되는지 체크
            console.log(evt.eventPhase);
        },true);
        // 이벤트 종류에 따라서 버블링이 되는 이벤트가 있고, 아닌 것도있다.

        document.querySelector("#one").addEventListener("click",function(evt){
            console.log("#one에 등록된 핸들러 작동.")
            console.log(evt.type);
            console.log(evt.eventPhase);
            console.log(evt.bubbles);
            console.log(evt.isTrusted); // 사용자에 의해서 발생한 이벤트냐?
            console.log(evt.timeStamp); // 문서가 로딩되고 난후 경과된 시간
        });

        // addEventListner 로 등록시킬때는 캡쳐링단계에서 할껀지 버블링 단계에서 할껀지 조절이 가능
        // 요소에 속성 설정되었거나 프로퍼티로 직접설정한거는 버블링에서 캐치 됨

        // function handle(evt) {
        //     console.log(evt.target, " vs " , evt.currentTarget);
        //     // target 이벤트 발생시킨 애  cuurentTarget 이벤트 처리하는애
        // };
        // document.querySelector("#one").addEventListener("click",handle);
        // document.querySelector("#list").addEventListener("click",handle);
    </script>
</body>
</html>